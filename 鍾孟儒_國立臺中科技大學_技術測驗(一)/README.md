# 傷口評估系統（Wound Assessment System）

## 專案簡介

這是一個基於 Python 開發的醫療輔助評估系統，用於快速判斷傷口狀態並提供照護建議。系統採用結構化的分層設計，具備完整的輸入驗證與測試案例，適合醫療機構進行傷口管理追蹤。

## 核心功能

### 1. 傷口狀態評估
系統根據三項醫療指標進行綜合判斷：

- **傷口面積（woundArea）**：單位為 cm²，必須為非負數
- **疼痛等級（painLevel）**：0-10 量表，0 表示無痛，10 表示極痛
- **滲液量（exudateLevel）**：分為 None（無）、Light（輕度）、Moderate（中度）、Heavy（重度）

### 2. 三級分類系統

| 狀態 | 判斷標準 | 說明 |
|------|----------|------|
| **Critical（警示）** | 面積 > 5 cm² **OR** 疼痛 > 7 **OR** 滲液 = Heavy | 任一高風險指標觸發即判定，建議立即由專業醫療人員評估 |
| **Good（良好）** | 面積 < 2 cm² **AND** 疼痛 < 3 **AND** 滲液 = None/Light | 所有指標皆在理想範圍內，持續基本清潔與觀察 |
| **Warning（需注意）** | 介於上述兩者之間 | 需增加觀察頻率，留意疼痛與滲液變化 |

### 3. 完整的輸入驗證
- 型別驗證：確保資料可轉換為正確型別
- 數值驗證：檢查數值範圍（面積 ≥ 0，疼痛 0-10）
- 特殊值處理：排除 inf、-inf、NaN 等異常值
- 業務驗證：確保符合醫療業務規則

## 技術架構

採用分層設計模式（Layered Architecture），確保程式碼清晰且易於維護：

```
┌─────────────────────────────────┐
│   主程式進入點 (Main Entry)      │
├─────────────────────────────────┤
│   執行控制層 (Execution Control) │  ← 測試案例執行、互動式模式
├─────────────────────────────────┤
│   輸出格式化層 (Output Format)   │  ← 結果格式化、錯誤訊息格式化
├─────────────────────────────────┤
│   API 介面層 (API Interface)     │  ← 統一對外介面
├─────────────────────────────────┤
│   業務邏輯層 (Business Logic)    │  ← 評估邏輯、狀態判斷
├─────────────────────────────────┤
│   輸入驗證層 (Validation Layer)  │  ← 三層驗證機制
└─────────────────────────────────┘
```

## 測試案例

內建 **20 個測試案例**，涵蓋三大類別：

### 1. 正常案例（5 個）
- Good 狀態示例：面積 1.5 cm²、疼痛 2、滲液 None
- Warning 狀態示例：面積 3.0 cm²、疼痛 4、滲液 Light
- Critical 狀態示例：面積 6.0 cm²（面積觸發）
- Critical 狀態示例：疼痛 8（疼痛觸發）
- Critical 狀態示例：滲液 Heavy（滲液觸發）

### 2. 邊界值測試（8 個）
- 面積 = 5.0（Warning，未觸發 Critical）
- 面積 = 5.01（Critical，剛好觸發）
- 疼痛 = 7.0（Warning，未觸發 Critical）
- 疼痛 = 7.01（Critical，剛好觸發）
- 疼痛 = 3.0（Warning，不符合 Good）
- 疼痛 = 2.99（Good，剛好符合）
- 最小邊界值：面積 0、疼痛 0
- 最大邊界值：疼痛 10、滲液 Heavy

### 3. 異常輸入測試（7 個）
- 負數面積、超出範圍的疼痛等級
- 無效的滲液值（如 "HIGH"）
- 非數字字串（如 "abc"、"xyz"）
- 無限值（float('inf')）

## 如何執行

### 環境需求
- Python 3.6 或以上版本
- 標準函式庫（無需額外安裝套件）

### 執行方式

在終端機中執行：

```bash
python main.py
```

### 執行流程
1. **自動測試模式**：程式會先執行 20 個內建測試案例
2. **互動式輸入模式**：測試完成後，可手動輸入資料進行評估

### 範例輸出

```
======================================================================
開始執行內建測試案例
總計 20 個案例
======================================================================

[測試案例 1/20]
輸入: woundArea=1.5, painLevel=2, exudateLevel=None
----------------------------------------------------------------------
評估狀態：Good
判斷理由：
  - 指標皆在穩定範圍
照護建議：目前傷口狀況穩定，建議持續基本清潔與定期觀察。

...

======================================================================
互動式輸入模式
======================================================================

請輸入傷口評估資料：
  - woundArea: 傷口面積（cm²），須為非負數
  - painLevel: 疼痛等級（0-10），0 表示無痛，10 表示極痛
  - exudateLevel: 滲液量，可選值為 None/Light/Moderate/Heavy

請輸入 woundArea: 3.5
請輸入 painLevel: 5
請輸入 exudateLevel: Moderate

----------------------------------------------------------------------
評估結果：
----------------------------------------------------------------------
評估狀態：Warning
判斷理由：
  - 介於 Good 與 Critical 之間，需持續追蹤
照護建議：傷口狀況需注意，建議增加觀察頻率並留意疼痛與滲液變化。
```

## 程式特色

1. **完整的錯誤處理**：捕獲並友善顯示所有輸入錯誤
2. **型別註解（Type Hints）**：提升程式碼可讀性與 IDE 支援
3. **完整的文件註解**：每個函數都有詳細的 Docstring
4. **可擴充性**：分層架構便於日後功能擴充
5. **無外部依賴**：僅使用 Python 標準函式庫

## 程式碼檔案

- `main.py`：完整的系統實作（約 500 行）
  - 常量定義區
  - 輸入驗證層
  - 業務邏輯層
  - 輸出格式化層
  - API 介面層
  - 執行控制層
  - 測試資料層